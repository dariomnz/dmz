// RUN: compiler %s -res-dump 2>&1 | filecheck %s
extern fn printf(fmt:&char[], ...) -> int; fn println(const n:int) -> void {printf(&"%d\n", n);}
fn main() -> void {
    let x = 1;
    println(x);
    {
        let y = 2;
        println(y);
    }
    println(x);
}

// CHECK: ResolvedFunctionDecl main -> void
// CHECK-NEXT:   ResolvedBlock
// CHECK-NEXT:     ResolvedDeclStmt
// CHECK-NEXT:       ResolvedVarDecl:int x
// CHECK-NEXT:         ResolvedIntLiteral:int '1'
// CHECK-NEXT:         | value:int 1
// CHECK-NEXT:     ResolvedCallExpr:void println
// CHECK-NEXT:       ResolvedDeclRefExpr:int x
// CHECK-NEXT:     ResolvedBlock
// CHECK-NEXT:       ResolvedDeclStmt
// CHECK-NEXT:         ResolvedVarDecl:int y
// CHECK-NEXT:           ResolvedIntLiteral:int '2'
// CHECK-NEXT:           | value:int 2
// CHECK-NEXT:       ResolvedCallExpr:void println
// CHECK-NEXT:         ResolvedDeclRefExpr:int y
// CHECK-NEXT:     ResolvedCallExpr:void println
// CHECK-NEXT:       ResolvedDeclRefExpr:int x