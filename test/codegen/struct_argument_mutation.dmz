// RUN: diff <(compiler %s -run 2>&1) <(echo -n -e '6\n8\n1\n2\n')
struct S {
  x: int,
  y: int,
}

fn foo(s: S) -> void {
  s.x = 6;
  println(s.x);
}

fn bar(s: S) -> S {
  s.y = 8;
  return s;
}
extern fn printf(fmt:&char[], ...) -> int; fn println(const n:int) -> void {printf(&"%d\n", n);}

fn main() -> void {
  let s = S { x: 1, y: 2 };
  foo(s);
  println(bar(s).y);

  println(s.x);
  println(s.y);
}
