// RUN: compiler %s -llvm-dump 2>&1 | filecheck %s
// RUN: compiler %s -run | grep -Plzxe '-234\n456\n-12\n'
fn negate(x: i32) -> i32 {
    return -x;
    
    // CHECK: %0 = sub i32 0, %x
}

fn negate2(x: i32) -> i32 {
    return - -x;

    // CHECK: %0 = sub i32 0, %x
    // CHECK-NEXT: %1 = sub i32 0, %0
}

fn timesNeg3(x: i32) -> i32 {
    return -(x - -x -(-x));
    // CHECK:  %0 = sub i32 0, %x
    // CHECK-NEXT:  %1 = sub i32 %x, %0
    // CHECK-NEXT:  %2 = sub i32 0, %x
    // CHECK-NEXT:  %3 = sub i32 %1, %2
    // CHECK-NEXT:  %4 = sub i32 0, %3
}
extern fn printf(fmt:*u8, ...) -> i32; fn println(n:i32) -> void {printf("%d\n", n);}

fn main() -> void {
    println(negate(234));
    println(negate2(456));
    println(timesNeg3(4));
}
