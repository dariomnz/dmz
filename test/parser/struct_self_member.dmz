// RUN: compiler %s -ast-dump 2>&1 | filecheck %s

struct Point {
    x: i32,
    y: i32,

    fn addOne(self: *@This) -> void {
        self.x += 1;
        self.y += 1;
    }
// CHECK: MemberFunctionDecl addOne -> void
// CHECK-NEXT:   ParamDecl:*@This self
// CHECK-NEXT:   Block
// CHECK-NEXT:     AssignmentOperator '+='
// CHECK-NEXT:       MemberExpr .x
// CHECK-NEXT:         DeclRefExpr self
// CHECK-NEXT:       IntLiteral '1'
// CHECK-NEXT:     AssignmentOperator '+='
// CHECK-NEXT:       MemberExpr .y
// CHECK-NEXT:         DeclRefExpr self
// CHECK-NEXT:       IntLiteral '1'
}

fn main() -> void {
    let p = Point{x:1,y:1};
    p.addOne();
}
