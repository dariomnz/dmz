// RUN: dmz %s -llvm-dump -g 2>&1 | filecheck %s
// RUN: diff <(dmz %s -run 2>&1) <(echo -n -e '1\n2\n3\n')
extern fn printf(fmt: *u8, ...) -> i32;

struct Point {
    x: i32,
    y: i32,
}

fn foo(p: Point, a: i32, b: i32, c: i32) -> void {
    a + b;
    let a_ptr: *i32 = null;
    a_ptr.* = 1;
}
fn main() -> void {
    printf("Hello world\n");
    foo(Point{x: 1, y: 2}, 1, 2, 3);
}